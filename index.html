<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COD Master Pro</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f4f6f8;
            color: #1a1a1a;
        }
        
        .top-header {
            background: #202223;
            color: white;
            padding: 12px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .app-logo {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .upgrade-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 6px;
            border: none;
            font-weight: 600;
            cursor: pointer;
        }
        
        .app-container {
            display: flex;
            min-height: calc(100vh - 48px);
        }
        
        .sidebar {
            width: 280px;
            background: white;
            border-right: 1px solid #e1e3e5;
            padding: 24px 0;
        }
        
        .sidebar-label {
            padding: 0 24px;
            font-size: 12px;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            margin: 20px 0 8px;
        }
        
        .nav-item {
            padding: 12px 24px;
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            border-left: 3px solid transparent;
        }
        
        .nav-item:hover {
            background: #f9fafb;
            color: #667eea;
        }
        
        .nav-item.active {
            background: #f0f4ff;
            color: #667eea;
            border-left-color: #667eea;
        }
        
        .main-content {
            flex: 1;
            background: #f4f6f8;
            overflow-y: auto;
        }
        
        #page-container {
            width: 100%;
            min-height: calc(100vh - 48px);
        }
    </style>
</head>
<body>
    <div class="top-header">
        <div style="display: flex; align-items: center; gap: 12px;">
            <div class="app-logo">üíé COD Master Pro</div>
            <span style="color: #b5b5b5; font-size: 14px;" id="store-name">Loading...</span>
        </div>
        <button class="upgrade-btn">‚ö° Upgrade</button>
    </div>
    
    <div class="app-container">
        <div class="sidebar">
            <div class="sidebar-label">Main</div>
            <div class="nav-item active" data-page="home">
                <span>üè†</span><span>Home</span>
            </div>
            <div class="nav-item" data-page="analytics">
                <span>üìä</span><span>Analytics</span>
            </div>
            
            <div class="sidebar-label">Forms & Orders</div>
            <div class="nav-item" data-page="form-builder">
                <span>üìù</span><span>Form Builder</span>
            </div>
            <div class="nav-item" data-page="quantity-offers">
                <span>üéÅ</span><span>Quantity Offers</span>
            </div>
            <div class="nav-item" data-page="upsells">
                <span>üí∞</span><span>Upsells</span>
            </div>
            
            <div class="sidebar-label">Management</div>
            <div class="nav-item" data-page="orders">
                <span>üì¶</span><span>Orders</span>
            </div>
            <div class="nav-item" data-page="integrations">
                <span>üîó</span><span>Integrations</span>
            </div>
            
            <div class="sidebar-label">Settings</div>
            <div class="nav-item" data-page="settings">
                <span>‚öôÔ∏è</span><span>Settings</span>
            </div>
            <div class="nav-item" data-page="plan">
                <span>üíé</span><span>Plan</span>
            </div>
        </div>
        
        <div class="main-content">
            <div id="page-container"></div>
        </div>
    </div>
    
    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const shop = urlParams.get('shop');
        if (shop) document.getElementById('store-name').textContent = shop;
        
        // Load page function
        async function loadPage(pageName) {
            try {
                const response = await fetch(`src/pages/${pageName}.html`);
                const html = await response.text();
                document.getElementById('page-container').innerHTML = html;
                
                // Execute any scripts in the loaded page
                const scripts = document.getElementById('page-container').querySelectorAll('script');
                scripts.forEach(script => {
                    const newScript = document.createElement('script');
                    newScript.textContent = script.textContent;
                    script.parentNode.replaceChild(newScript, script);
                });
            } catch (error) {
                console.error('Failed to load page:', error);
                document.getElementById('page-container').innerHTML = `
                    <div style="padding: 40px; text-align: center;">
                        <h2>‚ö†Ô∏è Page Not Found</h2>
                        <p style="color: #6b7280; margin-top: 10px;">The page "${pageName}" could not be loaded.</p>
                    </div>
                `;
            }
        }
        
        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                const page = item.getAttribute('data-page');
                loadPage(page);
                document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
                item.classList.add('active');
            });
        });
        
        // Load home page on startup
        loadPage('home');
    </script>
</body>
</html>
